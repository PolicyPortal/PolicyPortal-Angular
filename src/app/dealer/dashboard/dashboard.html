<div class="header">
  <h6 class="heading">Policies Expiring Soon</h6>
</div>

<!-- Main container for the policies table -->
<div class="policies-container">
  <!-- Header section -->

  <!-- Table container for scrolling -->
<div class="card shadow-sm rounded-3 border-0 overflow-hidden">

  <div class="table-responsive">
          <table class="table table-hover align-middle mb-0 " style="font-size: 0.9rem;">
            <thead class="table-light jus">
              <tr>
                <!-- Generating all headers from your list -->
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Policy No</th>
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Insured Name</th>
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Product</th>
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Expiry Date</th>
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Status</th>
                <th class="p-3  text-uppercase small fw-semibold text-muted text-nowrap">Actions</th>
              </tr>
      </thead>
      <tbody>
        <!-- Loop through paginated policies -->
        @for (policy of paginatedPolicies(); track policy.previousPolicyId) {
          <tr class="border-top">
            <td class="  text-nowrap">
              {{ policy.previousPolicyId }}
            </td>
            <td class="  text-nowrap">
              {{ policy.customerName }}
            </td>
            <td class="  text-nowrap">
              {{ policy.previousPolicyType }}
            </td>
            <td class="  text-nowrap">
              <span class="  text-nowrap">{{ policy.odExpiryDate }}</span>
              <!-- {{ policy.odExpiryDate | date:'mediumDate' }} -->
            </td>
            <td class="  text-nowrap" >
            <span class=" status-badge badge rounded-pill px-3 py-2 small fw-medium border-danger-subtle">Expired</span>
                                  <!-- <span class="badge border-danger-subtle">Expiring Soon</span> -->
            </td>
            <td class="  text-nowrap">
              <button class="renew-button px-3 py-2">Renew</button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>  

        <!-- Pagination - Custom Bootstrap Pagination -->
        <div class="card-footer bg-white d-flex flex-wrap align-items-center p-3">
          <!-- Pagination Info -->
          <div class="text-muted small mb-2 mb-md-0">
            {{ paginationInfo() }}
          </div>
            <div class="flex-grow-1"></div>
          <!-- Page Size Selector -->
          <div class="d-flex align-items-center gap-2 mb-2 mb-md-0 me-4">
             <label for="pageSize" class="form-label small text-nowrap mb-0">Rows:</label>
             <select id="pageSize" [value]="pageSize()" (change)="onPageSizeChange($event)" class="form-select form-select-sm" style="width: 75px;">
               <option value="5">5</option>
               <option value="10">10</option>
               <option value="25">25</option>
               <option value="50">50</option>
             </select>
          </div>

          <!-- Pagination Controls - UPDATED WITH SYMBOLS -->
          <nav aria-label="Policy pagination">
            <ul class="pagination pagination-sm mb-0">
              <li class="page-item" [class.disabled]="currentPage() === 1">
                <button class="page-link" (click)="goToPage(1)" aria-label="First">&laquo;</button>
              </li>
              <li class="page-item" [class.disabled]="currentPage() === 1">
                <button class="page-link" (click)="prevPage()" aria-label="Previous">&lsaquo;</button>
              </li>
              <li class="page-item" [class.disabled]="currentPage() === totalPages()">
                <button class="page-link" (click)="nextPage()" aria-label="Next">&rsaquo;</button>
              </li>
              <li class="page-item" [class.disabled]="currentPage() === totalPages()">
                <button class="page-link" (click)="goToPage(totalPages())" aria-label="Last">&raquo;</button>
              </li>
            </ul>
          </nav>
        </div>
</div>
</div>