<div class="policies-header">
  <h6 class="policies-heading">Policies Expiring Soon</h6>
</div>

<!-- Main container for the policies table -->
<div class="policies-container">
  <!-- Header section -->

  <!-- Table container for scrolling -->
  <div class="table-scroll-container">
  <!-- <table class="requests-table"> -->
    <!-- Angular Material Table -->
    <table mat-table [dataSource]="dataSource" matSort class="requests-table">

      <!-- Previous Policy Id Column -->
      <ng-container matColumnDef="previousPolicyId">
        <th mat-header-cell *matHeaderCellDef > Previous Policy Id </th>
        <td mat-cell *matCellDef="let element">
          <span class="badge danger-badge">{{element.previousPolicyId}}</span>
        </td>
      </ng-container>

      <!-- Customer Name Column -->
      <ng-container matColumnDef="customerName">
        <th mat-header-cell *matHeaderCellDef > Customer Name </th>
        <td mat-cell *matCellDef="let element"> {{element.customerName}} </td>
      </ng-container>

      <!-- Mobile Number Column -->
      <ng-container matColumnDef="mobileNumber">
        <th mat-header-cell *matHeaderCellDef > Mobile Number </th>
        <td mat-cell *matCellDef="let element"> {{element.mobileNumber}} </td>
      </ng-container>

      <!-- OD Expiry Date Column -->
      <ng-container matColumnDef="odExpiryDate">
        <th mat-header-cell *matHeaderCellDef > OD Expiry Date </th>
        <td mat-cell *matCellDef="let element">
          <span class="badge danger-badge">{{element.odExpiryDate}}</span>
        </td>
      </ng-container>

      <!-- TP Expiry Date Column -->
      <ng-container matColumnDef="tpExpiryDate">
        <th mat-header-cell *matHeaderCellDef > TP Expiry Date </th>
        <td mat-cell *matCellDef="let element">
          <span class="badge danger-badge">{{element.tpExpiryDate}}</span>
        </td>
      </ng-container>

      <!-- Previous Policy Type Column -->
      <ng-container matColumnDef="previousPolicyType">
        <th mat-header-cell *matHeaderCellDef > Previous Policy Type </th>
        <td mat-cell *matCellDef="let element"> {{element.previousPolicyType}} </td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Action </th>
        <td mat-cell *matCellDef="let element" class="text-center">
          <!-- UPDATED BUTTON: Uses standard classes to match your new CSS -->
          <button class="btn btn-outline-primary">Renew</button>
        </td>
      </ng-container>

      <!-- Define the header and row rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>

  <!-- Paginator wrapped in a container for styling -->
  <!-- Custom range label, displayed only if there is data -->
  <div class="pagination-container">
    @if(paginator)
    {
        <span class="pagination-summary">
            {{ getCustomRangeLabel(paginator.pageIndex, paginator.pageSize, dataSource.data.length) }}
        </span>
    }
    <mat-paginator [pageSizeOptions]="[10]" showFirstLastButtons aria-label="Select page of expiring policies" style="background-color: white;">
    </mat-paginator>

    
  </div>
</div>
